var currentDrawTimeoutAlt,currentDrawTimeout,canvas=document.querySelector("#main");jscolor.presets.default.backgroundColor="rgb(61, 61, 67, 1)",jscolor.presets.default.borderColor="rgb(95, 95, 110, 1)",LevelEncryptor.setup();var SpriteMaker={Data:{TintImage(e,r,a){let t=document.createElement("canvas"),o=t.getContext("2d");t.width=e.width,t.height=e.height,console.log("draw ",a);var l=vcache.Get(a+"."+r);if(void 0!=l){console.log("get from cache",a);var i=new Image;o.putImageData(l,0,0);var n=t.toDataURL();return i.src=n,i}if("#ffffff"==r.toLowerCase())return e;o.drawImage(e,0,0);let p=o.getImageData(0,0,t.width,t.height),d=p.data,c=d.length;var m,g,u=255,s=((m=r).length>6&&(m=m.slice(0,7)),(g=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(m))?{r:parseInt(g[1],16),g:parseInt(g[2],16),b:parseInt(g[3],16)}:null);if(9==r.length&&(u=parseInt(r.slice(-2),16)),255==u)for(let f=0;f<c;f+=4)d[f+3]>5&&(d[f]*=s.r/255,d[f+1]*=s.g/255,d[f+2]*=s.b/255);else for(let y=0;y<c;y+=4)d[y+3]>5&&(d[y]*=s.r/255,d[y+1]*=s.g/255,d[y+2]*=s.b/255,d[y+3]*=u/255);var i=new Image;o.putImageData(p,0,0);var n=t.toDataURL();return i.src=n,vcache.Add(a+"."+r,p),i},Draw(e,r){let a=r.getContext("2d");a.clearRect(0,0,r.width,r.height),a.globalAlpha=1;var t=[];function o(r,a,o){if(!a&&!o){t.push(SpriteMaker.Data.TintImage(ImageAssets[r],"#ffffff",r));return}t.push(SpriteMaker.Data.TintImage(ImageAssets[r],e.GetProperty(a,o),r))}function l(t,o){var l=a.fillStyle;a.fillStyle=e.GetProperty(t,o),console.log("fill bg",a.fillStyle),a.fillRect(0,0,r.width,r.height),a.fillStyle=l}var i=e.Type;switch(i){case 0:o("enemy_laserCenterBackground","Laser_Center","Laser_Center"),o("enemy_laserCenter","Laser_Center","Laser_Color");var n=e.GetValue("Laser_Beam","Mode");switch(n){case 0:o("enemy_laserBeamBackground","Laser_Beam","Laser_Center_1"),o("enemy_laserBeam","Laser_Beam","Laser_Color_1");break;case 1:o("enemy_laserBeam1Background","Laser_Beam","Laser_Center_1"),o("enemy_laserBeam1","Laser_Beam","Laser_Color_1"),o("enemy_laserBeam2Background","Laser_Beam","Laser_Center_1"),o("enemy_laserBeam2","Laser_Beam","Laser_Color_1"),o("enemy_laserBeam3Background","Laser_Beam","Laser_Center_2"),o("enemy_laserBeam3","Laser_Beam","Laser_Color_2"),o("enemy_laserBeam4Background","Laser_Beam","Laser_Center_2"),o("enemy_laserBeam4","Laser_Beam","Laser_Color_2");break;case 2:o("enemy_laserBeam1Background","Laser_Beam","Laser_Center_1"),o("enemy_laserBeam1","Laser_Beam","Laser_Color_1"),o("enemy_laserBeam2Background","Laser_Beam","Laser_Center_2"),o("enemy_laserBeam2","Laser_Beam","Laser_Color_2"),o("enemy_laserBeam3Background","Laser_Beam","Laser_Center_3"),o("enemy_laserBeam3","Laser_Beam","Laser_Color_3"),o("enemy_laserBeam4Background","Laser_Beam","Laser_Center_4"),o("enemy_laserBeam4","Laser_Beam","Laser_Color_4")}var p=e.GetValue("Main_Stripe","Type");switch(o("enemy_stripeBackgroundLeft","Main_Stripe","Background"),p){case 0:break;case 1:o("enemy_stripeDefaultColorLeft","Main_Stripe","Color"),o("enemy_stripeDefaultShadowLeft","Main_Stripe","Shadow");break;case 2:o("enemy_stripeSplitColorLeft","Main_Stripe","Color"),o("enemy_stripeSplitShadowLeft","Main_Stripe","Shadow");break;case 3:o("enemy_stripeWideColorLeft","Main_Stripe","Color"),o("enemy_stripeWideShadowLeft","Main_Stripe","Shadow")}var d=e.GetValue("Alternate_Stripe","Type");switch(o("enemy_stripeBackgroundRight","Alternate_Stripe","Background"),d){case 0:break;case 1:o("enemy_stripeDefaultColorRight","Alternate_Stripe","Color"),o("enemy_stripeDefaultShadowRight","Alternate_Stripe","Shadow");break;case 2:o("enemy_stripeSplitColorRight","Alternate_Stripe","Color"),o("enemy_stripeSplitShadowRight","Alternate_Stripe","Shadow");break;case 3:o("enemy_stripeWideColorRight","Alternate_Stripe","Color"),o("enemy_stripeWideShadowRight","Alternate_Stripe","Shadow")}var c=e.GetValue("Top_Right","Type");switch(c){case 0:o("enemy_topRightBackgroundWide","Top_Right","Background"),o("enemy_topRightStarColor_l","Top_Right","Star_Inactive_Color"),o("enemy_topRightStarColor_r","Top_Right","Star_Active_Color"),o("enemy_topRightStarShadow_l","Top_Right","Star_Inactive_Shadow_Color"),o("enemy_topRightStarShadow_r","Top_Right","Star_Active_Shadow_Color");break;case 1:1==e.GetValue("Top_Right","Background_Type")?o("enemy_topRightBackgroundPallet","Top_Right","Background"):o("enemy_topRightBackground","Top_Right","Background"),1==e.GetValue("Top_Right","Gradient")&&o("enemy_topRightGradient","Top_Right","Pallet_Gradient"),1==e.GetValue("Top_Right","Mini_Jump")&&(o("enemy_topRightSmallJump1","Top_Right","Inactive_Mini_Jump_Top"),o("enemy_topRightSmallJump2","Top_Right","Inactive_Mini_Jump_Side"),o("enemy_topRightSmallJump3","Top_Right","Active_Mini_Jump_Top"),o("enemy_topRightSmallJump4","Top_Right","Active_Mini_Jump_Side"));var m=e.GetValue("Top_Right","Flip_Tile");switch(0!=m&&(o("enemy_topRightFlipTile-0-1","Top_Right","Inactive_Flip_Tile_Background"),o("enemy_topRightFlipTile-0-2","Top_Right","Active_Flip_Tile_Background")),m){case 0:break;case 1:o("enemy_topRightFlipTile-1-1","Top_Right","Inactive_Flip_Tile_Color_1"),o("enemy_topRightFlipTile-1-2","Top_Right","Active_Flip_Tile_Color_1");break;case 2:o("enemy_topRightFlipTile-2-1","Top_Right","Inactive_Flip_Tile_Color_1"),o("enemy_topRightFlipTile-2-2","Top_Right","Active_Flip_Tile_Color_1");break;case 3:o("enemy_topRightFlipTile-3-1-1","Top_Right","Inactive_Flip_Tile_Color_1"),o("enemy_topRightFlipTile-3-1-2","Top_Right","Inactive_Flip_Tile_Color_2"),o("enemy_topRightFlipTile-3-2-1","Top_Right","Active_Flip_Tile_Color_1"),o("enemy_topRightFlipTile-3-2-2","Top_Right","Active_Flip_Tile_Color_2");break;case 4:o("enemy_topRightFlipTile-4-1-1","Top_Right","Inactive_Flip_Tile_Color_1"),o("enemy_topRightFlipTile-4-1-2","Top_Right","Inactive_Flip_Tile_Color_2"),o("enemy_topRightFlipTile-4-2-1","Top_Right","Active_Flip_Tile_Color_1"),o("enemy_topRightFlipTile-4-2-2","Top_Right","Active_Flip_Tile_Color_2");break;case 5:o("enemy_topRightFlipTile-5-1","Top_Right","Inactive_Flip_Tile_Color_1"),o("enemy_topRightFlipTile-5-2","Top_Right","Active_Flip_Tile_Color_1");break;case 6:o("enemy_topRightFlipTile-6-1","Top_Right","Inactive_Flip_Tile_Color_1"),o("enemy_topRightFlipTile-6-2","Top_Right","Active_Flip_Tile_Color_1");break;case 7:o("enemy_topRightFlipTile-7-1","Top_Right","Inactive_Flip_Tile_Color_1"),o("enemy_topRightFlipTile-7-2","Top_Right","Active_Flip_Tile_Color_1");break;case 8:o("enemy_topRightFlipTile-8-1-1","Top_Right","Inactive_Flip_Tile_Color_1"),o("enemy_topRightFlipTile-8-1-2","Top_Right","Inactive_Flip_Tile_Color_2"),o("enemy_topRightFlipTile-8-2-1","Top_Right","Active_Flip_Tile_Color_1"),o("enemy_topRightFlipTile-8-2-2","Top_Right","Active_Flip_Tile_Color_2")}0!=e.GetValue("Top_Right","Powerups")&&(o("enemy_topRightPowerupsBase"),o("enemy_topRightPowerupsGradient","Top_Right","Powerup_Custom_Gradient"))}o("enemy_riserBackground","Riser_Top","Background"),0===e.GetValue("Light_Color_Pallet","Type")&&(o("enemy_colorVibrantBackground1","Light_Color_Pallet","Color_1_Background"),o("enemy_colorVibrantBorder1","Light_Color_Pallet","Color_1_Border"),o("enemy_colorVibrantBackground2","Light_Color_Pallet","Color_2_Background"),o("enemy_colorVibrantBorder2","Light_Color_Pallet","Color_2_Border"),o("enemy_colorVibrantBackground3","Light_Color_Pallet","Color_3_Background"),o("enemy_colorVibrantBorder3","Light_Color_Pallet","Color_3_Border"),o("enemy_colorVibrantBackground4","Light_Color_Pallet","Color_4_Background"),o("enemy_colorVibrantBorder4","Light_Color_Pallet","Color_4_Border"),o("enemy_colorVibrantBackground5","Light_Color_Pallet","Color_5_Background"),o("enemy_colorVibrantBorder5","Light_Color_Pallet","Color_5_Border"),o("enemy_colorVibrantBackground6","Light_Color_Pallet","Color_6_Background"),o("enemy_colorVibrantBorder6","Light_Color_Pallet","Color_6_Border")),0===e.GetValue("Dark_Color_Pallet","Type")&&(o("enemy_colorDullBackground1","Dark_Color_Pallet","Color_1_Background"),o("enemy_colorDullBorder1","Dark_Color_Pallet","Color_1_Border"),o("enemy_colorDullBackground2","Dark_Color_Pallet","Color_2_Background"),o("enemy_colorDullBorder2","Dark_Color_Pallet","Color_2_Border"),o("enemy_colorDullBackground3","Dark_Color_Pallet","Color_3_Background"),o("enemy_colorDullBorder3","Dark_Color_Pallet","Color_3_Border"),o("enemy_colorDullBackground4","Dark_Color_Pallet","Color_4_Background"),o("enemy_colorDullBorder4","Dark_Color_Pallet","Color_4_Border"),o("enemy_colorDullBackground5","Dark_Color_Pallet","Color_5_Background"),o("enemy_colorDullBorder5","Dark_Color_Pallet","Color_5_Border"),o("enemy_colorDullBackground6","Dark_Color_Pallet","Color_6_Background"),o("enemy_colorDullBorder6","Dark_Color_Pallet","Color_6_Border"));var g=e.GetValue("Gradient","Type");switch(g){case 0:o("enemy_gradient1Lighten","Gradient","Lighten_Color"),o("enemy_gradient1Darken","Gradient","Darken_Color"),o("enemy_gradient1StripLighten","Gradient","Strip_Lighten_Color"),o("enemy_gradient1StripDarken","Gradient","Strip_Darken_Color"),o("enemy_gradient1BorderThick","Gradient","Border_Color");break;case 1:o("enemy_gradient2Lighten","Gradient","Lighten_Color"),o("enemy_gradient2Darken","Gradient","Darken_Color"),o("enemy_gradient2StripLighten","Gradient","Strip_Lighten_Color"),o("enemy_gradient2StripDarken","Gradient","Strip_Darken_Color")}var u=e.GetValue("Riser_Top","Type");switch(u){case 0:o("enemy_riser1OuterBorderLeft","Riser_Top","Left_Outer_Border"),o("enemy_riser1InnerColorLeft","Riser_Top","Left_Inner_Color"),o("enemy_riser1InnerBorderLeft","Riser_Top","Left_Inner_Border"),o("enemy_riser1OuterBorderRight","Riser_Top","Right_Outer_Border"),o("enemy_riser1InnerColorRight","Riser_Top","Right_Inner_Color"),o("enemy_riser1InnerBorderRight","Riser_Top","Right_Inner_Border");break;case 1:o("enemy_riser2InnerColorLeft","Riser_Top","Left_Inner_Color"),o("enemy_riser2InnerColorRight","Riser_Top","Right_Inner_Color"),o("enemy_riser2OuterColorLeft","Riser_Top","Left_Inner_Border"),o("enemy_riser2OuterColorRight","Riser_Top","Right_Inner_Border")}AssignHitboxes([[0,0,128,128,"Laser_Center"],[128,0,52,128,"Laser_Beam"],[192,0,320,128,"Top_Right"],[0,128,256,64,"Main_Stripe"],[256,128,256,64,"Alternate_Stripe"],[0,192,256,203,"Light_Color_Pallet"],[256,192,256,192,"Dark_Color_Pallet"],[0,395,256,117,"Gradient"],[256,384,256,128,"Riser_Top"]]);break;case 1:function s(){var r=e.GetValue("General","Border_Style");switch(r){case 0:o("general_mainBorder1","General","Border"),o("general_mainPallet1Shadow","Pallet","Shadow"),o("general_mainPallet11","Pallet","Square_1"),o("general_mainPallet11Overlay","Pallet","Square_1_Overlay"),o("general_mainPallet12","Pallet","Square_2"),o("general_mainPallet12Overlay","Pallet","Square_2_Overlay"),o("general_mainPallet13","Pallet","Square_3"),o("general_mainPallet14","Pallet","Square_4"),o("general_mainPallet14Overlay","Pallet","Square_4_Overlay"),o("general_mainPallet15","Pallet","Square_5");break;case 1:o("general_mainBorder2Bottom","General","Lower_Border"),o("general_mainBorder2Top","General","Border"),o("general_mainPallet2Shadow","Pallet","Shadow"),o("general_mainPallet21","Pallet","Square_1"),o("general_mainPallet21Overlay","Pallet","Square_1_Overlay"),o("general_mainPallet22","Pallet","Square_2"),o("general_mainPallet22Overlay","Pallet","Square_2_Overlay"),o("general_mainPallet23","Pallet","Square_3"),o("general_mainPallet24","Pallet","Square_4"),o("general_mainPallet24Overlay","Pallet","Square_4_Overlay"),o("general_mainPallet25","Pallet","Square_5");break;case 2:o("general_mainBorder3","General","Border"),o("general_mainPallet1Shadow","Pallet","Shadow"),o("general_mainPallet11","Pallet","Square_1"),o("general_mainPallet11Overlay","Pallet","Square_1_Overlay"),o("general_mainPallet12","Pallet","Square_2"),o("general_mainPallet12Overlay","Pallet","Square_2_Overlay"),o("general_mainPallet13","Pallet","Square_3"),o("general_mainPallet14","Pallet","Square_4"),o("general_mainPallet14Overlay","Pallet","Square_4_Overlay"),o("general_mainPallet15","Pallet","Square_5");break;case 3:o("general_mainBorder4","General","Border"),o("general_mainPallet1Shadow","Pallet","Shadow"),o("general_mainPallet11","Pallet","Square_1"),o("general_mainPallet11Overlay","Pallet","Square_1_Overlay"),o("general_mainPallet12","Pallet","Square_2"),o("general_mainPallet12Overlay","Pallet","Square_2_Overlay"),o("general_mainPallet13","Pallet","Square_3"),o("general_mainPallet14","Pallet","Square_4"),o("general_mainPallet14Overlay","Pallet","Square_4_Overlay"),o("general_mainPallet15","Pallet","Square_5");break;case 4:o("general_mainBorder5Bottom","General","Lower_Border"),o("general_mainBorder5Top","General","Border"),o("general_mainPallet1Shadow","Pallet","Shadow"),o("general_mainPallet11","Pallet","Square_1"),o("general_mainPallet11Overlay","Pallet","Square_1_Overlay"),o("general_mainPallet12","Pallet","Square_2"),o("general_mainPallet12Overlay","Pallet","Square_2_Overlay"),o("general_mainPallet13","Pallet","Square_3"),o("general_mainPallet14","Pallet","Square_4"),o("general_mainPallet14Overlay","Pallet","Square_4_Overlay"),o("general_mainPallet15","Pallet","Square_5")}}l("General","Background");var f=e.GetValue("Top_Left","Type");switch(f){case 0:var y=e.GetValue("Top_Left","Active_Jump_Pad_Style");switch(y){case 0:o("general_jumpPad1ActiveColor","Top_Left","Active_Jump_Pad_Color"),o("general_jumpPad1ActiveBorder","Top_Left","Active_Jump_Pad_Border"),o("general_jumpPad1ActivePallet","Top_Left","Active_Jump_Pad_Side");break;case 1:o("general_jumpPad1ActiveColor","Top_Left","Active_Jump_Pad_Color"),o("general_jumpPad2ActiveBorder","Top_Left","Active_Jump_Pad_Border"),o("general_jumpPad1ActivePallet","Top_Left","Active_Jump_Pad_Side");break;case 2:o("general_jumpPad1ActiveColor","Top_Left","Active_Jump_Pad_Color"),o("general_jumpPad3ActiveDecoration","Top_Left","Active_Jump_Pad_Decoration_1"),o("general_jumpPad1ActiveBorder","Top_Left","Active_Jump_Pad_Border"),o("general_jumpPad1ActivePallet","Top_Left","Active_Jump_Pad_Side");break;case 3:o("general_jumpPad1ActiveColor","Top_Left","Active_Jump_Pad_Color"),o("general_jumpPad4ActiveDecorationCenter","Top_Left","Active_Jump_Pad_Decoration_2"),o("general_jumpPad4ActiveDecoration","Top_Left","Active_Jump_Pad_Decoration_1"),o("general_jumpPad4ActiveBorder","Top_Left","Active_Jump_Pad_Border"),o("general_jumpPad1ActivePallet","Top_Left","Active_Jump_Pad_Side");break;case 4:o("general_jumpPad1ActiveColor","Top_Left","Active_Jump_Pad_Color"),o("general_jumpPad5ActiveDecoration","Top_Left","Active_Jump_Pad_Decoration_1"),o("general_jumpPad1ActiveBorder","Top_Left","Active_Jump_Pad_Border"),o("general_jumpPad1ActivePallet","Top_Left","Active_Jump_Pad_Side");break;case 5:o("general_jumpPad1ActiveColor","Top_Left","Active_Jump_Pad_Color"),o("general_jumpPad6ActiveDecoration","Top_Left","Active_Jump_Pad_Decoration_1"),o("general_jumpPad1ActiveBorder","Top_Left","Active_Jump_Pad_Border"),o("general_jumpPad1ActivePallet","Top_Left","Active_Jump_Pad_Side")}var h=e.GetValue("Top_Left","Inactive_Jump_Pad_Style");switch(h){case 0:o("general_jumpPad1Color","Top_Left","Inactive_Jump_Pad_Color"),o("general_jumpPad1Border","Top_Left","Inactive_Jump_Pad_Border"),o("general_jumpPad1Pallet","Top_Left","Inactive_Jump_Pad_Side");break;case 1:o("general_jumpPad1Color","Top_Left","Inactive_Jump_Pad_Color"),o("general_jumpPad2Border","Top_Left","Inactive_Jump_Pad_Border"),o("general_jumpPad1Pallet","Top_Left","Inactive_Jump_Pad_Side");break;case 2:o("general_jumpPad1Color","Top_Left","Inactive_Jump_Pad_Color"),o("general_jumpPad3Decoration","Top_Left","Inactive_Jump_Pad_Decoration_1"),o("general_jumpPad1Border","Top_Left","Inactive_Jump_Pad_Border"),o("general_jumpPad1Pallet","Top_Left","Inactive_Jump_Pad_Side");break;case 3:o("general_jumpPad1Color","Top_Left","Inactive_Jump_Pad_Color"),o("general_jumpPad4DecorationCenter","Top_Left","Inactive_Jump_Pad_Decoration_2"),o("general_jumpPad4Decoration","Top_Left","Inactive_Jump_Pad_Decoration_1"),o("general_jumpPad4Border","Top_Left","Inactive_Jump_Pad_Border"),o("general_jumpPad1Pallet","Top_Left","Inactive_Jump_Pad_Side");break;case 4:o("general_jumpPad1Color","Top_Left","Inactive_Jump_Pad_Color"),o("general_jumpPad5Decoration","Top_Left","Inactive_Jump_Pad_Decoration_1"),o("general_jumpPad1Border","Top_Left","Inactive_Jump_Pad_Border"),o("general_jumpPad1Pallet","Top_Left","Inactive_Jump_Pad_Side");break;case 5:o("general_jumpPad1Color","Top_Left","Inactive_Jump_Pad_Color"),o("general_jumpPad6Decoration","Top_Left","Inactive_Jump_Pad_Decoration_1"),o("general_jumpPad1Border","Top_Left","Inactive_Jump_Pad_Border"),o("general_jumpPad1Pallet","Top_Left","Inactive_Jump_Pad_Side")}s();var _=e.GetValue("General","Decoration_Type");switch(_){case 0:break;case 1:o("general_decoration1","General","Decoration_Color_1");break;case 2:o("general_decoration2","General","Decoration_Color_1"),o("general_decoration2Outline","General","Decoration_Color_2")}break;case 1:s(),o("mover_ArrowActiveColor","Top_Left","Active_Mover_Arrow_Color"),o("mover_ArrowActiveInnerColor","Top_Left","Active_Mover_Arrow_Inner_Color"),o("mover_ArrowActiveBorder","Top_Left","Active_Mover_Arrow_Border"),o("mover_ArrowActivePallet","Top_Left","Active_Mover_Arrow_Side"),o("mover_ArrowInactiveColor","Top_Left","Inactive_Mover_Arrow_Color"),o("mover_ArrowInactiveInnerColor","Top_Left","Inactive_Mover_Arrow_Inner_Color"),o("mover_ArrowInactiveBorder","Top_Left","Inactive_Mover_Arrow_Border"),o("mover_ArrowInactivePallet","Top_Left","Inactive_Mover_Arrow_Side"),o("mover_BorderStyle1","Top_Left","Mover_Border_Outline")}AssignHitboxes([[0,0,341,171,"Top_Left"],[341,0,171,171,"General"],[0,171,171,171,"General"],[171,171,171,171,"Pallet"],[341,171,171,171,"General"],[0,341,171,171,"General"],[171,341,171,171,"General"],[341,341,171,171,"General"]]);break;case 2:l("Fragile","Background"),a.clearRect(0,0,341,171);var f=e.GetValue("Top_Left","Type");switch(f){case 0:o("fragile_topLeftLQGemColor","Top_Left","Low_Quality_Gem_Color"),o("fragile_topLeftLQGemOutline","Top_Left","Low_Quality_Gem_Outline"),o("fragile_topLeftLQGemOutlineHighlight","Top_Left","Low_Quality_Gem_Highlight"),o("fragile_topLeftMidgroundLighten","Top_Left","Midground_Gradient_Top"),o("fragile_topLeftMidgroundDarken","Top_Left","Midground_Gradient_Bottom"),e.GetValue("Top_Left","Midground_Decoration");break;case 1:o("fragileActive_checkerBottom1","Top_Left","Bottom_Checker_1"),o("fragileActive_checkerBottom2","Top_Left","Bottom_Checker_2"),o("fragileActive_checkerTop1","Top_Left","Top_Checker_1"),o("fragileActive_checkerTop2","Top_Left","Top_Checker_2");var v=e.GetValue("Top_Left","Highscore_Style");switch(v){case 0:o("fragileActive_highscoreTop1Outline","Top_Left","Top_Highscore_Outline"),o("fragileActive_highscoreTop1","Top_Left","Top_Highscore_Color"),o("fragileActive_highscoreBottom1","Top_Left","Bottom_Highscore_Color");break;case 1:o("fragileActive_highscoreTop2","Top_Left","Top_Highscore_Color"),o("fragileActive_highscoreBottom2","Top_Left","Bottom_Highscore_Color");break;case 2:o("fragileActive_highscoreTop2","Top_Left","Top_Highscore_Color"),o("fragileActive_highscoreBottom3","Top_Left","Bottom_Highscore_Color")}}var B=e.GetValue("Fragile","Border_Style");switch(B){case 0:o("fragile_border1","Fragile","Border"),o("fragile_border1Outline","Fragile","Border"),o("fragile_border1Stripe","Fragile","Stripes");break;case 1:o("fragile_border1","Fragile","Border"),o("fragile_border2Outline","Fragile","Border"),o("fragile_border2Stripe","Fragile","Stripes");break;case 2:o("fragile_border2","Fragile","Border");break;case 3:o("fragile_border2","Fragile","Border"),o("fragile_border1Stripe","Fragile","Stripes");break;case 4:o("fragile_border1","Fragile","Border");break;case 5:o("fragile_border3","Fragile","Border"),o("fragile_border3Abstract","Fragile","Border")}var _=e.GetValue("Fragile","Decoration_Type");switch(_){case 0:break;case 1:o("fragile_decoration1","Fragile","Border");break;case 2:o("fragile_decoration2","Fragile","Border")}o("general_mainPallet1Shadow","Pallet","Shadow"),o("general_mainPallet11","Pallet","Square_1"),o("general_mainPallet11Overlay","Pallet","Square_1_Overlay"),o("general_mainPallet12","Pallet","Square_2"),o("general_mainPallet12Overlay","Pallet","Square_2_Overlay"),o("general_mainPallet13","Pallet","Square_3"),o("general_mainPallet14","Pallet","Square_4"),o("general_mainPallet14Overlay","Pallet","Square_4_Overlay"),o("general_mainPallet15","Pallet","Square_5"),AssignHitboxes([[0,0,341,171,"Top_Left"],[341,0,171,171,"Fragile"],[0,171,171,171,"Fragile"],[171,171,171,171,"Pallet"],[341,171,171,171,"Fragile"],[0,341,171,171,"Fragile"],[171,341,171,171,"Fragile"],[341,341,171,171,"Fragile"]])}!function e(r){let t=0,o=r.length;!function e(){let l=r[t];try{function i(){a.drawImage(l,0,0),++t<o&&e()}l.src.startsWith("data")||i(),l.addEventListener("load",i),l.addEventListener("error",i)}catch{console.log("image error",r[t],r)}}()}(t)}},Initialize(){var e=navigator.deviceMemory,r=10;void 0!=e&&(r=Math.round((e-8+10)*1.5)+10),window.vcache=new VariableCache(r),window.sprite=new Spritesheet(cachedSpriteData[0])}};const ImageSources={enemy_laserCenter:"enemy/laser_center_color",enemy_laserCenterBackground:"enemy/laser_center_background",enemy_laserBeam:"enemy/laser_beam_color",enemy_laserBeamBackground:"enemy/laser_beam_background",enemy_laserBeam1:"enemy/laser_beam_1_color",enemy_laserBeam1Background:"enemy/laser_beam_1_background",enemy_laserBeam2:"enemy/laser_beam_2_color",enemy_laserBeam2Background:"enemy/laser_beam_2_background",enemy_laserBeam3:"enemy/laser_beam_3_color",enemy_laserBeam3Background:"enemy/laser_beam_3_background",enemy_laserBeam4:"enemy/laser_beam_4_color",enemy_laserBeam4Background:"enemy/laser_beam_4_background",enemy_topRightBackground:"enemy/top_right_background",enemy_topRightBackgroundWide:"enemy/top_right_background_wide",enemy_topRightSolids:"enemy/top_right_solids",enemy_topRightStarColor_l:"enemy/top_right_star_color_l",enemy_topRightStarColor_r:"enemy/top_right_star_color_r",enemy_topRightStarShadow_l:"enemy/top_right_star_shadow_l",enemy_topRightStarShadow_r:"enemy/top_right_star_shadow_r","enemy_topRightFlipTile-0-1":"enemy/topright/flip_tile_0_1","enemy_topRightFlipTile-0-2":"enemy/topright/flip_tile_0_2","enemy_topRightFlipTile-1-1":"enemy/topright/flip_tile_1_1","enemy_topRightFlipTile-1-2":"enemy/topright/flip_tile_1_2","enemy_topRightFlipTile-2-1":"enemy/topright/flip_tile_2_1","enemy_topRightFlipTile-2-2":"enemy/topright/flip_tile_2_2","enemy_topRightFlipTile-3-1-1":"enemy/topright/flip_tile_3_1_1","enemy_topRightFlipTile-3-1-2":"enemy/topright/flip_tile_3_1_2","enemy_topRightFlipTile-3-2-1":"enemy/topright/flip_tile_3_2_1","enemy_topRightFlipTile-3-2-2":"enemy/topright/flip_tile_3_2_2","enemy_topRightFlipTile-4-1-1":"enemy/topright/flip_tile_4_1_1","enemy_topRightFlipTile-4-1-2":"enemy/topright/flip_tile_4_1_2","enemy_topRightFlipTile-4-2-1":"enemy/topright/flip_tile_4_2_1","enemy_topRightFlipTile-4-2-2":"enemy/topright/flip_tile_4_2_2","enemy_topRightFlipTile-5-1":"enemy/topright/flip_tile_5_1","enemy_topRightFlipTile-5-2":"enemy/topright/flip_tile_5_2","enemy_topRightFlipTile-6-1":"enemy/topright/flip_tile_6_1","enemy_topRightFlipTile-6-2":"enemy/topright/flip_tile_6_2","enemy_topRightFlipTile-7-1":"enemy/topright/flip_tile_7_1","enemy_topRightFlipTile-7-2":"enemy/topright/flip_tile_7_2","enemy_topRightFlipTile-8-1-1":"enemy/topright/flip_tile_8_1_1","enemy_topRightFlipTile-8-1-2":"enemy/topright/flip_tile_8_1_2","enemy_topRightFlipTile-8-2-1":"enemy/topright/flip_tile_8_2_1","enemy_topRightFlipTile-8-2-2":"enemy/topright/flip_tile_8_2_2",enemy_topRightBackgroundPallet:"enemy/topright/basic_pallet",enemy_topRightGradient:"enemy/topright/gradient",enemy_topRightPowerupsBase:"enemy/topright/powerups_base",enemy_topRightPowerupsGradient:"enemy/topright/powerups_gradient",enemy_topRightSmallJump1:"enemy/topright/small_jump_1",enemy_topRightSmallJump2:"enemy/topright/small_jump_2",enemy_topRightSmallJump3:"enemy/topright/small_jump_3",enemy_topRightSmallJump4:"enemy/topright/small_jump_4",enemy_stripeDefaultShadowLeft:"enemy/stripe_default_shadow_left",enemy_stripeDefaultColorLeft:"enemy/stripe_default_color_left",enemy_stripeDefaultShadowRight:"enemy/stripe_default_shadow_right",enemy_stripeDefaultColorRight:"enemy/stripe_default_color_right",enemy_stripeSplitShadowLeft:"enemy/stripe_split_shadow_left",enemy_stripeSplitColorLeft:"enemy/stripe_split_color_left",enemy_stripeSplitShadowRight:"enemy/stripe_split_shadow_right",enemy_stripeSplitColorRight:"enemy/stripe_split_color_right",enemy_stripeWideShadowLeft:"enemy/stripe_wide_shadow_left",enemy_stripeWideColorLeft:"enemy/stripe_wide_color_left",enemy_stripeWideShadowRight:"enemy/stripe_wide_shadow_right",enemy_stripeWideColorRight:"enemy/stripe_wide_color_right",enemy_stripeBackgroundLeft:"enemy/stripe_background_left",enemy_stripeBackgroundRight:"enemy/stripe_background_right",enemy_colorVibrantBackground1:"enemy/color_vibrant_background_1",enemy_colorVibrantBorder1:"enemy/color_vibrant_border_1",enemy_colorVibrantBackground2:"enemy/color_vibrant_background_2",enemy_colorVibrantBorder2:"enemy/color_vibrant_border_2",enemy_colorVibrantBackground3:"enemy/color_vibrant_background_3",enemy_colorVibrantBorder3:"enemy/color_vibrant_border_3",enemy_colorVibrantBackground4:"enemy/color_vibrant_background_4",enemy_colorVibrantBorder4:"enemy/color_vibrant_border_4",enemy_colorVibrantBackground5:"enemy/color_vibrant_background_5",enemy_colorVibrantBorder5:"enemy/color_vibrant_border_5",enemy_colorVibrantBackground6:"enemy/color_vibrant_background_6",enemy_colorVibrantBorder6:"enemy/color_vibrant_border_6",enemy_colorDullBackground1:"enemy/color_dull_background_1",enemy_colorDullBorder1:"enemy/color_dull_border_1",enemy_colorDullBackground2:"enemy/color_dull_background_2",enemy_colorDullBorder2:"enemy/color_dull_border_2",enemy_colorDullBackground3:"enemy/color_dull_background_3",enemy_colorDullBorder3:"enemy/color_dull_border_3",enemy_colorDullBackground4:"enemy/color_dull_background_4",enemy_colorDullBorder4:"enemy/color_dull_border_4",enemy_colorDullBackground5:"enemy/color_dull_background_5",enemy_colorDullBorder5:"enemy/color_dull_border_5",enemy_colorDullBackground6:"enemy/color_dull_background_6",enemy_colorDullBorder6:"enemy/color_dull_border_6",enemy_gradient1BorderThick:"enemy/gradient_1_border_thick",enemy_gradient1BorderThin:"enemy/gradient_1_border_thin",enemy_gradient1Darken:"enemy/gradient_1_darken",enemy_gradient1Lighten:"enemy/gradient_1_lighten",enemy_gradient1StripDarken:"enemy/gradient_1_strip_darken",enemy_gradient1StripLighten:"enemy/gradient_1_strip_lighten",enemy_gradient2Darken:"enemy/gradient_2_darken",enemy_gradient2Lighten:"enemy/gradient_2_lighten",enemy_gradient2StripDarken:"enemy/gradient_2_strip_darken",enemy_gradient2StripLighten:"enemy/gradient_2_strip_lighten",enemy_riserBackground:"enemy/riser_background",enemy_riser1InnerColorLeft:"enemy/riser_1_inner_color_left",enemy_riser1InnerColorRight:"enemy/riser_1_inner_color_right",enemy_riser1InnerBorderLeft:"enemy/riser_1_inner_border_left",enemy_riser1InnerBorderRight:"enemy/riser_1_inner_border_right",enemy_riser1OuterBorderLeft:"enemy/riser_1_outer_border_left",enemy_riser1OuterBorderRight:"enemy/riser_1_outer_border_right",enemy_riser2InnerColorLeft:"enemy/riser_2_inner_color_left",enemy_riser2InnerColorRight:"enemy/riser_2_inner_color_right",enemy_riser2OuterColorLeft:"enemy/riser_2_outer_color_left",enemy_riser2OuterColorRight:"enemy/riser_2_outer_color_right",general_jumpPad1ActiveBorder:"general/jump_pad_1_active_border",general_jumpPad1ActiveColor:"general/jump_pad_1_active_color",general_jumpPad1ActivePallet:"general/jump_pad_1_active_pallet",general_jumpPad2ActiveBorder:"general/jump_pad_2_active_border",general_jumpPad3ActiveDecoration:"general/jump_pad_3_active_decoration",general_jumpPad4ActiveBorder:"general/jump_pad_4_active_border",general_jumpPad4ActiveDecoration:"general/jump_pad_4_active_decoration",general_jumpPad4ActiveDecorationCenter:"general/jump_pad_4_active_decoration_center",general_jumpPad5ActiveDecoration:"general/jump_pad_5_active_decoration",general_jumpPad6ActiveDecoration:"general/jump_pad_6_active_decoration",general_jumpPad1Border:"general/jump_pad_1_border",general_jumpPad1Color:"general/jump_pad_1_color",general_jumpPad1Pallet:"general/jump_pad_1_pallet",general_jumpPad2Border:"general/jump_pad_2_border",general_jumpPad3Decoration:"general/jump_pad_3_decoration",general_jumpPad4Border:"general/jump_pad_4_border",general_jumpPad4Decoration:"general/jump_pad_4_decoration",general_jumpPad4DecorationCenter:"general/jump_pad_4_decoration_center",general_jumpPad5Decoration:"general/jump_pad_5_decoration",general_jumpPad6Decoration:"general/jump_pad_6_decoration",general_decoration1:"general/decoration_1",general_decoration2:"general/decoration_2",general_decoration2Outline:"general/decoration_2_outline",general_mainBorder1:"general/main_border_1",general_mainBorder2Top:"general/main_border_2_top",general_mainBorder2Bottom:"general/main_border_2_bottom",general_mainBorder3:"general/main_border_3",general_mainBorder4:"general/main_border_4",general_mainBorder5Top:"general/main_border_5_top",general_mainBorder5Bottom:"general/main_border_5_bottom",general_mainPallet1Shadow:"general/main_pallet_1_shadow",general_mainPallet11:"general/main_pallet_1_1",general_mainPallet11Overlay:"general/main_pallet_1_1_overlay",general_mainPallet12:"general/main_pallet_1_2",general_mainPallet12Overlay:"general/main_pallet_1_2_overlay",general_mainPallet13:"general/main_pallet_1_3",general_mainPallet14:"general/main_pallet_1_4",general_mainPallet14Overlay:"general/main_pallet_1_4_overlay",general_mainPallet15:"general/main_pallet_1_5",general_mainPallet2Shadow:"general/main_pallet_2_shadow",general_mainPallet21:"general/main_pallet_2_1",general_mainPallet21Overlay:"general/main_pallet_2_1_overlay",general_mainPallet22:"general/main_pallet_2_2",general_mainPallet22Overlay:"general/main_pallet_2_2_overlay",general_mainPallet23:"general/main_pallet_2_3",general_mainPallet24:"general/main_pallet_2_4",general_mainPallet24Overlay:"general/main_pallet_2_4_overlay",general_mainPallet25:"general/main_pallet_2_5",mover_BorderStyle1:"mover/border_style_1",mover_ArrowActiveBorder:"mover/arrow_active_border",mover_ArrowActiveColor:"mover/arrow_active_color",mover_ArrowActiveInnerColor:"mover/arrow_active_inner_color",mover_ArrowActivePallet:"mover/arrow_active_pallet",mover_ArrowInactiveBorder:"mover/arrow_inactive_border",mover_ArrowInactiveColor:"mover/arrow_inactive_color",mover_ArrowInactiveInnerColor:"mover/arrow_inactive_inner_color",mover_ArrowInactivePallet:"mover/arrow_inactive_pallet",fragile_border1Outline:"fragile/border_1_outline",fragile_border1Stripe:"fragile/border_1_stripe",fragile_border2Outline:"fragile/border_2_outline",fragile_border2Stripe:"fragile/border_2_stripe",fragile_border3Abstract:"fragile/border_3_abstract",fragile_decoration1:"fragile/decoration_1",fragile_decoration2:"fragile/decoration_2",fragile_border1:"fragile/border_1",fragile_border2:"fragile/border_2",fragile_border3:"fragile/border_3",fragile_topLeftLQGemColor:"fragile/top_left_lq_gem_color",fragile_topLeftLQGemOutline:"fragile/top_left_lq_gem_outline",fragile_topLeftLQGemOutlineHighlight:"fragile/top_left_lq_gem_outline_highlight",fragile_topLeftMidgroundDarken:"fragile/top_left_midground_darken",fragile_topLeftMidgroundLighten:"fragile/top_left_midground_lighten",fragileActive_checkerBottom1:"fragileactive/checker_bottom_1",fragileActive_checkerBottom2:"fragileactive/checker_bottom_2",fragileActive_checkerTop1:"fragileactive/checker_top_1",fragileActive_checkerTop2:"fragileactive/checker_top_2",fragileActive_highscoreBottom1:"fragileactive/highscore_bottom_1",fragileActive_highscoreBottom2:"fragileactive/highscore_bottom_2",fragileActive_highscoreBottom3:"fragileactive/highscore_bottom_3",fragileActive_highscoreTop1:"fragileactive/highscore_top_1",fragileActive_highscoreTop1Outline:"fragileactive/highscore_top_1_outline",fragileActive_highscoreTop2:"fragileactive/highscore_top_2"};var ImageAssets={},loader=document.querySelector("#loader"),page=document.querySelector("#page"),container=document.querySelector("#container"),loaderBarFill=document.querySelector("#loaderBarFill");function loadAll(){let e=0,r=Object.keys(ImageSources).length;function a(){let a=e/r*100;if(loaderBarFill.style.width=a+"%",100==a)var t=!1,o=document.title,l=setInterval(e=>{t?(document.title="[ Loading Finished ]",t=!t):(document.title=o,t=!t),"visible"==document.visibilityState&&(document.title=o,clearInterval(l))},100)}for(let t in ImageSources){let o=document.createElement("img"),l=ImageSources[t];o.src="assets/"+l+".png",o.addEventListener("load",()=>{e++,a(),ImageAssets[t]=o,document.querySelector("#hidden").appendChild(o),e===r&&(loader.classList.add("hide"),page.classList.add("show"),SpriteMaker.Initialize())}),o.addEventListener("error",()=>{e++,a(),e===r&&(loader.classList.add("hide"),page.classList.add("show"),SpriteMaker.Initialize())})}}loadAll(),Array.prototype.add=function(e){let r={};function a(e,r){for(let t in r)e.hasOwnProperty(t)?Array.isArray(e[t])&&Array.isArray(r[t])?e[t]=e[t].concat(r[t]):"object"==typeof e[t]&&"object"==typeof r[t]?a(e[t],r[t]):e[t]=r[t]:e[t]=r[t]}return a(r,this[0]),a(r,e[0]),[r]};class Spritesheet{#a={};Name="";Type=0;Features=[];HasBeenChanged=!1;FirstChangeCall=()=>{};constructor(e){this.SetData(e)}SetData(e){if(this.HasBeenChanged=!1,void 0!=e&&null!=e){this.Data=e.copy(),this.Name=e.name,this.Type=e.type,this.Features=e.features.copy(),cachedSpriteData[e.type]=e;var r=!1;spriteTemplates.copy().forEach(e=>{e.features==this.Features&&(r=!0)})}}get string(){return this.Data.name=this.Name,this.Data.features=this.Features,JSON.stringify(this.Data)}Save(){localStorage.setItem("lastSpritesheet",this.string)}SetProperty(e,r,a){this.HasBeenChanged||this.FirstChangeCall(),this.HasBeenChanged=!0;try{let t=this.Features.find(r=>r.name===e);return t?t.properties[r]=a:this.Features.push({name:e,properties:{[r]:a}}),this.Save(),!0}catch{return!1}}RemoveProperty(e){try{let r=this.Features.find(r=>r.name===e);if(r)r[property]=value;else{let a={name:e,[property]:value};this.Features.push(a)}return this.Save(),!0}catch{return!1}}GetProperty(e,r){let a=this.Features.find(r=>r.name.toLowerCase()==e.toLowerCase());if(void 0==a)return!1;var t=spriteTemplates[this.Type].copy().features.find(r=>r.name.toLowerCase()==e.toLowerCase());if(void 0==a.properties[r]){if("all"==r)return t.properties;if(void 0!=(t=t.properties[r]))return console.log("updated",t,[e,r]),t}var o=a.properties[r];if(void 0!=t){var l=t.properties[r];o.length<l.length&&(o+=l.slice(o.length))}return"all"==r?a.properties:o}SetValue(e,r,a){this.HasBeenChanged||this.FirstChangeCall(),this.HasBeenChanged=!0;try{let t=this.Features.find(r=>r.name===e);return t?t.values[r]=a:this.Features.push({name:e,values:{[r]:a}}),this.Save(),!0}catch{return!1}}GetValue(e,r){let a=this.Features.find(r=>r.name.toLowerCase()==e.toLowerCase());try{if(!a.values&&!a.values[r])return{}}catch{return{}}if(void 0==a.values[r]){var t=spriteTemplates[this.Type].copy().features.find(r=>r.name.toLowerCase()==e.toLowerCase());if("all"==r)return t.values;if(void 0!=(t=t.values[r]))return console.log("updated",t,[e,r]),t}return"all"==r?a.values:a.values[r]}}class VariableCache{CacheItems={};MaxItems=10;constructor(e=10){this.MaxItems=e}Add(e,r){this.CacheItems[e]=r;let a=Object.keys(this.CacheItems),t=a.length;if(t>this.MaxItems)for(let o=0;o<t-this.MaxItems;o++)delete this.CacheItems[a[o]]}Get(e){return this.CacheItems[e]}Clear(){this.CacheItems={}}}function updateSpriteOptions(e){Object.keys(inputs[e]).forEach(r=>{sprite.SetProperty(e,r,inputs[e][r].value),sprite.SetValue(e,r,parseInt(inputs[e][r].value))}),renderSprite()}function renderSprite(){try{clearTimeout(currentDrawTimeoutAlt),clearTimeout(currentDrawTimeout)}catch{}currentDrawTimeoutAlt=setTimeout(e=>{SpriteMaker.Data.Draw(sprite,document.querySelector("#alt"))},0),currentDrawTimeout=setTimeout(e=>{SpriteMaker.Data.Draw(sprite,document.querySelector("#main"))},5)}function makeUI(e){closeUI();var r=e.replaceAll("_"," "),a=["<form onchange=\"updateSpriteOptions('"+e+'\')"><span class="heading">'+r+"</span>"],t=[];!1!=sprite.GetValue(e,"all")&&(t=Object.keys(sprite.GetValue(e,"all"))).forEach(r=>{var t=sprite.GetValue(e,r);if(!isNaN(t)&&void 0!=t&&null!=t){var o=[],l=spriteValues[sprite.Type];void 0!=l&&(l=l.find(r=>r.name===e)),void 0==l?(console.log("spriteValues does not contain",e),o.push('<option selected value="0">Default</option>')):l.values[r].forEach((e,r)=>{o.push("<option "+(r==t?"selected ":"")+'value="'+r+'">'+e+"</option>")}),a.push('<label for="'+r+'">'+r.replaceAll("_"," ")+'<select id="'+r+'" value="'+t+'"/>'+o.join("")+"</select></label>")}});var o=Object.keys(sprite.GetProperty(e,"all"));o.forEach(r=>{var t=sprite.GetProperty(e,r),o=parseInt(t);void 0!=t&&null!=t&&isNaN(o)&&a.push('<label for="'+r+'">'+r.replaceAll("_"," ")+'<input data-jscolor="{}" placeholder="'+t+'" id="'+r+'" value="'+t+'"/></label>')}),a.push("</form>");var l=document.createElement("div");l.id="mainform",l.innerHTML=a.join(""),window.inputs={},inputs[e]={},o.forEach(r=>{inputs[e][r]=l.querySelector("#"+r)}),t.forEach(r=>{inputs[e][r]=l.querySelector("#"+r)}),container.appendChild(l),JSColor.install()}function closeUI(){document.querySelector("#mainform")&&document.querySelector("#mainform").remove()}function AssignHitbox(e,r,a,t,o){if("object"==typeof e){var l=e;e=l[0],r=l[1],a=l[2],t=l[3],o=l[4]}var i=document.createElement("div");function n(e){e.stopPropagation();for(var r=document.querySelectorAll(".hitbox"),a=0;a<r.length;a++)r[a]!==i&&r[a].style.removeProperty("opacity");""==i.style.opacity?(i.style.opacity="1",makeUI(o)):(i.style.removeProperty("opacity"),closeUI())}function p(e){i.style.opacity="0",closeUI()}i.style.width=a+"px",i.style.height=t+"px",i.style.left=e+"px",i.style.top=r+"px",i.className="hitbox-"+o,i.addEventListener("click",n),i.addEventListener("touchstart",n),canvas.parentElement.addEventListener("click",p),canvas.parentElement.addEventListener("touchstart",p),i.classList.add("hitbox"),canvas.parentElement.appendChild(i)}function AssignHitboxes(e){document.querySelectorAll(".hitbox").forEach(e=>e.remove()),e.forEach(e=>{AssignHitbox(e)})}function copy(e,r=new Set){if("object"!=typeof e||null===e||r.has(e))return e;let a=Array.isArray(e)?[]:{};for(let t in r.add(e),e)Object.prototype.hasOwnProperty.call(e,t)&&(a[t]=copy(e[t],r));return a}Object.defineProperty(Object.prototype,"copy",{value:function(){return copy(this)},writable:!0,configurable:!0}),Object.defineProperty(Array.prototype,"copy",{value:function(){return copy(this)},writable:!0,configurable:!0});const spriteValues=Object.freeze([[{name:"Laser_Beam",values:{Mode:["Single","Double","Quadruple"]}},{name:"Top_Right",values:{Type:["Star","Pallet"],Background_Type:["Solid","Pallet"],Gradient:["Off","On"],Mini_Jump:["Off","On"],Flip_Tile:["None","Hourglass","Checkerboard","Flower","Diamond","Triple Square","U Shape","Boxed Star","Quad Circle"],Powerups:["Off","On"]}},{name:"Main_Stripe",values:{Type:["None","Default","Split","Wide"]}},{name:"Alternate_Stripe",values:{Type:["None","Default","Split","Wide"]}},{name:"Light_Color_Pallet",values:{Type:["Default"]}},{name:"Dark_Color_Pallet",values:{Type:["Default"]}},{name:"Gradient",values:{Type:["Classic","Modern"]}},{name:"Riser_Top",values:{Type:["Classic","Modern"]}},],[{name:"Top_Left",values:{Type:["General","Mover/MoverAuto"],Inactive_Jump_Pad_Style:["Default","Cut Edge","Net","Double Square","Chinese","Checkerboard"],Active_Jump_Pad_Style:["Default","Cut Edge","Net","Double Square","Chinese","Checkerboard"]}},{name:"General",values:{Border_Style:["Default","Cut Edge","Thin","Glow","Spread"],Decoration_Type:["None","Heat","Border"]}},],[{name:"Top_Left",values:{Type:["Fragile","FragileActive"],Highscore_Style:["Classic","Modern (Boxes)","Modern (Text Only)"]}},{name:"Fragile",values:{Border_Style:["Default","Wide","Thin","Basic Stripes","Boxes","Jade Rabbit"],Decoration_Type:["None","Pixels","Snowflakes"]}},]]),spriteTemplates=Object.freeze([{name:"Enemy1",type:0,features:[{name:"Laser_Center",properties:{Laser_Color:"#5affff",Laser_Center:"#FFFFFF"}},{name:"Laser_Beam",values:{Mode:0},properties:{Laser_Color_1:"#5affffff",Laser_Center_1:"#ffffffff",Laser_Color_2:"#5AFFFFCA",Laser_Center_2:"#FFFFFFCA",Laser_Color_3:"#F86476ff",Laser_Center_3:"#ffffffff",Laser_Color_4:"#F86476D9",Laser_Center_4:"#FFFFFFD9"}},{name:"Top_Right",values:{Type:0,Background_Type:1,Gradient:1,Mini_Jump:1,Flip_Tile:1,Powerups:1},properties:{Background:"#989089",Star_Inactive_Color:"#3abcba",Star_Active_Color:"#30efee",Star_Inactive_Shadow_Color:"#000000",Star_Active_Shadow_Color:"#000000",Pallet_Gradient:"#ffffffff",Inactive_Mini_Jump_Top:"#fcc993",Inactive_Mini_Jump_Side:"#f1fffa",Active_Mini_Jump_Top:"#f59e62",Active_Mini_Jump_Side:"#b0564f",Inactive_Flip_Tile_Background:"#727f7d",Inactive_Flip_Tile_Color_1:"#8fb5b1ff",Inactive_Flip_Tile_Color_2:"#8fb5b17d",Active_Flip_Tile_Background:"#ecc75c",Active_Flip_Tile_Color_1:"#fffb96ff",Active_Flip_Tile_Color_2:"#fffb967d",Powerup_Custom_Gradient:"#ffffff"}},{name:"Main_Stripe",values:{Type:1},properties:{Background:"#afa69d",Color:"#30efee",Shadow:"#000000"}},{name:"Alternate_Stripe",values:{Type:0},properties:{Background:"#afa69d",Color:"#30efee",Shadow:"#000000"}},{name:"Light_Color_Pallet",values:{Type:0},properties:{Color_1_Border:"#1b8887",Color_1_Background:"#24b4b3",Color_2_Border:"#1d9392",Color_2_Background:"#27c3c2",Color_3_Border:"#209e9d",Color_3_Background:"#2ad2d1",Color_4_Border:"#21a4a3",Color_4_Background:"#2cdad9",Color_5_Border:"#07a9a7",Color_5_Background:"#09e0de",Color_6_Border:"#07a9a7",Color_6_Background:"#09e0de"}},{name:"Dark_Color_Pallet",values:{Type:0},properties:{Color_1_Border:"#47423d",Color_1_Background:"#5e5751",Color_2_Border:"#47423d",Color_2_Background:"#5e5751",Color_3_Border:"#66605a",Color_3_Background:"#877f77",Color_4_Border:"#544f4b",Color_4_Background:"#706963",Color_5_Border:"#847d76",Color_5_Background:"#afa69d",Color_6_Border:"#625d58",Color_6_Background:"#817a74"}},{name:"Gradient",values:{Type:0},properties:{Darken_Color:"#3f3936",Lighten_Color:"#7f7872",Border_Color:"#4d4642",Strip_Lighten_Color:"#30efee",Strip_Darken_Color:"#1de8e6"}},{name:"Riser_Top",values:{Type:0},properties:{Background:"#afa69d",Left_Outer_Border:"#857d76",Left_Inner_Border:"#857d76",Left_Inner_Color:"#24b4b3",Right_Outer_Border:"#857d76",Right_Inner_Border:"#857d76",Right_Inner_Color:"#30efee"}},]},{name:"General1",type:1,features:[{name:"Top_Left",values:{Type:0,Active_Jump_Pad_Style:0,Inactive_Jump_Pad_Style:0},properties:{Active_Jump_Pad_Color:"#feab2c",Active_Jump_Pad_Border:"#ffff00",Active_Jump_Pad_Side:"#ffff00",Active_Jump_Pad_Decoration_1:"#FFFF0090",Active_Jump_Pad_Decoration_2:"#ffffff00",Inactive_Jump_Pad_Color:"#fd873e",Inactive_Jump_Pad_Border:"#eb7a38",Inactive_Jump_Pad_Side:"#d67040",Inactive_Jump_Pad_Decoration_1:"#eb7a3890",Inactive_Jump_Pad_Decoration_2:"#ffffff00",Active_Mover_Arrow_Color:"#feab2c",Active_Mover_Arrow_Inner_Color:"#ffffff00",Active_Mover_Arrow_Border:"#ffff00",Active_Mover_Arrow_Side:"#ffff00",Inactive_Mover_Arrow_Color:"#fd873e",Inactive_Mover_Arrow_Inner_Color:"#ffffff00",Inactive_Mover_Arrow_Border:"#eb7a38",Inactive_Mover_Arrow_Side:"#eb7a38",Mover_Border_Outline:"#db7032"}},{name:"Pallet",properties:{Shadow:"#e69e4cff",Square_1:"#e69f43ff",Square_1_Overlay:"#dd9647ff",Square_2:"#eaa442ff",Square_2_Overlay:"#dd9647ff",Square_3:"#c27f38ff",Square_4:"#da9540ff",Square_4_Overlay:"#d38e42ff",Square_5:"#cb873dff"}},{name:"General",values:{Border_Style:0,Decoration_Type:0},properties:{Background:"#fdb643",Border:"#e69e4c",Lower_Border:"#E69E4C90",Decoration_Color_1:"#ff9b3c88",Decoration_Color_2:"#b76f227c"}}]},{name:"Fragile1",type:2,features:[{name:"Top_Left",values:{Type:0,Highscore_Style:2},properties:{Low_Quality_Gem_Color:"#ff6044",Low_Quality_Gem_Outline:"#FFFFFF22",Low_Quality_Gem_Highlight:"#FF7751FF",Midground_Gradient_Top:"#12d9e0",Midground_Gradient_Bottom:"#20c7d1",Top_Checker_1:"#fdb6447f",Top_Checker_2:"#fd873e7f",Bottom_Checker_1:"#fdb6447f",Bottom_Checker_2:"#fd873e7f",Top_Highscore_Color:"#FFFFFFC7",Top_Highscore_Outline:"#FDB644B9",Bottom_Highscore_Color:"#FFE500BD"}},{name:"Pallet",properties:{Shadow:"#9fe0ffff",Square_1:"#6697a9ff",Square_1_Overlay:"#9fe0ff00",Square_2:"#80c7d2cf",Square_2_Overlay:"#9fe0ffff",Square_3:"#90bcc5ff",Square_4:"#8cd1e0df",Square_4_Overlay:"#9fe0ffff",Square_5:"#9fe0ffff"}},{name:"Fragile",values:{Border_Style:0,Decoration_Type:0},properties:{Background:"#72bcbfbf",Stripes:"#ade5f0ff",Border:"#9fe0ffff"}}]}]);var cachedSpriteData=[spriteTemplates[0].copy(),spriteTemplates[1].copy(),spriteTemplates[2].copy(),],spritename=document.querySelector("#spritename"),spriteType=document.querySelector("#spriteType");function updateNameType(){sprite.Name=spritename.value}function sprDownload(e){switch(e){case 0:var r=document.createElement("a");r.download=sprite.Name+".png",r.href=canvas.toDataURL(),r.click();break;case 1:var r=document.createElement("a");r.download=sprite.Name+".rs",r.href="data:text/plain;charset=utf-8,"+LevelEncryptor.encrypt(sprite.string),r.click()}}window.onload=()=>{};const fileInput=document.getElementById("fileuploadinput");fileInput.addEventListener("change",e=>{if(0!=fileInput.files.length){var r=new FileReader;r.onload=function(){let e=LevelEncryptor.decrypt(r.result);if(""==e)return;let a=JSON.parse(e);sprite.SetData(a),MainMenu.Exit(),sprite.Save()},r.readAsText(fileInput.files[0])}});var MainMenu={object:document.querySelector("#mainmenu"),object1:document.querySelector("#container"),LoadTemplate(e){sprite.SetData(spriteTemplates[e].copy()),sprite.FirstChangeCall=Counter.add,spritename.value=sprite.Name,MainMenu.Exit()},LoadPrevious(){var e=localStorage.getItem("lastSpritesheet");void 0!=e&&null!=e&&(sprite.SetData(JSON.parse(e)),spritename.value=sprite.Name,MainMenu.Exit())},Exit(){renderSprite(),spritename.value=sprite.Name,MainMenu.object.style.display="none",MainMenu.object1.style.display="block",document.body.scrollTo(0,0),clearInterval(window.liveUpdateAmount)},Enter(){function e(){Counter.get().then(e=>{spriteAmountMade.innerHTML=e})}closeUI(),MainMenu.object.style.display="block",MainMenu.object1.style.display="none",document.body.scrollTo(0,0),e(),window.liveUpdateAmount=setInterval(()=>{e()},1500),clearTimeout(window.liveUpdateTime)}};window.onbeforeunload=function(){return"Are you sure you want to reload the editor? Your progress on your spritesheet will only be saved if you have modified it."};const Counter={url:"",async add(){},async get(){}};function createNewSpritesheet(e){MainMenu.LoadTemplate(e)}var spriteAmountMade=document.getElementById("spriteAmountMade"),liveUpdateAmount=void 0,liveUpdateTime=void 0;document.body.scrollTo(0,0),MainMenu.Enter();